"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var d=t[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}var Good=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getItems",value:function(){var v=new XMLHttpRequest;v.open("GET","./responses/catalogData.json",!0),v.send(),v.onreadystatechange=function(){if(console.log("good "+v.readyState),4===v.readyState)if(200===v.status)for(var e=JSON.parse(v.responseText),t=document.getElementById("products"),a=0;a<e.length;a++){var d=e[a],n=document.createElement("li"),s=document.createElement("a"),c=document.createElement("img"),r=document.createElement("div"),o=document.createElement("h3"),i=document.createElement("div"),l=document.createElement("span"),p=document.createElement("div"),u=document.createElement("div"),m=document.createElement("button"),_=document.createElement("div"),f=document.createElement("button"),h=document.createElement("i"),C=document.createElement("button"),g=document.createElement("i");n.classList.add("products__item"),s.classList.add("products__link"),s.setAttribute("href","good.html"),c.classList.add("products__img"),c.setAttribute("src",d.img_url),c.setAttribute("alt",d.product_name),c.setAttribute("width","261"),r.classList.add("products__box"),o.classList.add("products__caption"),o.textContent=d.product_name,i.classList.add("products__inner"),l.classList.add("products__price"),l.textContent="$"+d.price.toFixed(2),p.classList.add("stars"),u.classList.add("btn-products"),m.classList.add("btn-products__add"),m.textContent="Add to Cart",m.dataset.price=d.price,m.dataset.id=d.id_product,_.classList.add("btn-products__box"),f.classList.add("btn-products__send"),h.classList.add("fas","fa-retweet","fa-lg"),C.classList.add("btn-products__like"),g.classList.add("far","fa-heart","fa-lg"),t.appendChild(n).appendChild(s).appendChild(c),s.appendChild(r).appendChild(o),r.appendChild(i).appendChild(l),i.appendChild(p);for(var E=0;E<d.rating;E++){var b=document.createElement("span"),L=document.createElement("i");b.classList.add("stars__icon"),L.classList.add("fas","fa-star","fa-xs"),p.appendChild(b).appendChild(L)}n.appendChild(u).appendChild(m),u.appendChild(_).appendChild(f).appendChild(h),_.appendChild(C).appendChild(g)}else console.log("Error good",v.status,v.statusText)}}}]),e}(),good=new Good;good.getItems();
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}var Basket=function(){function a(){_classCallCheck(this,a)}return _createClass(a,[{key:"getItems",value:function(){var t=new XMLHttpRequest;t.open("GET","./responses/getBasket.json",!0),t.send(),t.onreadystatechange=function(){if(console.log("goodBasket "+t.readyState),4===t.readyState)if(200===t.status){var e=JSON.parse(t.responseText);a.render(e)}else console.log("Error goodBasket",t.status,t.statusText)}}},{key:"add",value:function(e,t,a,n,s,d){this.getItems();var r={id_product:e,product_name:t,price:a,img_url:n,page_url:s,rating:d};data.amount+=a,data.basket.length++,data.basket.push(r)}}],[{key:"render",value:function(e){for(var t=0;t<e.basket.length;t++){var a=document.getElementById("basket"),n=document.getElementById("totalPrice"),s=document.createElement("li"),d=document.createElement("a"),r=document.createElement("img"),i=document.createElement("div"),c=document.createElement("h3"),o=document.createElement("div"),l=document.createElement("span"),m=document.createElement("span"),p=document.createElement("span"),u=document.createElement("span"),_=document.createElement("button"),g=document.createElement("i"),h=document.getElementById("count");s.classList.add("min-cart__item"),d.classList.add("min-cart__link"),d.setAttribute("href","good.html"),r.classList.add("min-cart__img"),r.setAttribute("src",e.basket[t].img_url),r.setAttribute("alt",e.basket[t].product_name),r.setAttribute("width","72"),i.classList.add("min-cart__inner"),c.classList.add("min-cart__title"),c.textContent=e.basket[t].product_name,o.classList.add("stars"),l.classList.add("min-cart__text"),m.classList.add("min-cart__quantity"),m.textContent="1",p.classList.add("min-cart__multi"),p.textContent="x",u.classList.add("min-cart__price"),u.textContent="$"+e.basket[t].price,_.classList.add("btn-delete"),_.dataset.id=e.basket[t].id_product,g.classList.add("fas","fa-times-circle"),h.textContent=e.basket.length,n.textContent="$300",a.appendChild(s).appendChild(d).appendChild(r),d.appendChild(i).appendChild(c),i.appendChild(u),i.appendChild(o);for(var f=0;f<e.basket[t].rating;f++){var k=document.createElement("span");k.classList.add("stars__icon");var C=document.createElement("i");C.classList.add("fas","fa-star","fa-xs"),o.appendChild(k).appendChild(C)}i.appendChild(l).appendChild(m),l.appendChild(p),l.appendChild(u),s.appendChild(_).appendChild(g)}}}]),a}(),basket=new Basket;basket.getItems(),basket.add("1","product two","60","img/product-2.jpg","good.html",3),basket.add("1","product two","60","img/product-3.jpg","good.html",3),basket.add("1","product two","60","img/product-4.jpg","good.html",3);